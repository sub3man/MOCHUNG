<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>맹다솔 ♥ 지창대 결혼식에 초대합니다</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        /* --- 기본 & 폰트 설정 --- */
        body {
            font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
            color: #333;
            background-color: #FDFCFB;
            word-break: keep-all;
        }

        /* --- 애니메이션 --- */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* 메인 사진 애니메이션 제거 */

        /* --- 갤러리 라이트박스 --- */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 1000;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            justify-content: center;
            -ms-flex-align: center;
            align-items: center;
        }
        .lightbox img {
            max-width: 90%;
            max-height: 80%;
            object-fit: contain;
        }
        .lightbox-close, .lightbox-nav {
            position: absolute;
            color: white;
            font-size: 2.5rem;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .lightbox-close { top: 20px; right: 30px; }
        .lightbox-nav.prev { left: 20px; }
        .lightbox-nav.next { right: 20px; }

        /* --- 달력 --- */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
        }
        .calendar-day {
            text-align: center;
            display: flex;
            justify-content: center;
            -ms-flex-align: center;
            align-items: center;
            height: 38px; /* 하트 모양을 위한 높이 고정 */
        }
        .wedding-day {
            position: relative;
            width: 38px;
            height: 38px;
            color: white;
            font-weight: bold;
        }
        /* 하트 모양 배경 */
        .wedding-day::before,
        .wedding-day::after {
            content: "";
            position: absolute;
            top: 6px; /* 위치 조정 */
            left: 19px;
            width: 19px; /* 크기 조정 */
            height: 30px; /* 크기 조정 */
            background: #E6B4B8;
            border-radius: 20px 20px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
            z-index: 0;
        }
        .wedding-day::after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }
        .wedding-day span {
            position: relative; /* 숫자 텍스트를 하트 위로 */
            z-index: 1;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- 메인 타이틀 -->
    <section class="text-center pt-24 pb-16 bg-white">
        <p class="text-gray-500 text-sm tracking-widest reveal">WEDDING INVITATION</p>
        <div class="my-6 reveal">
            <h1 class="text-3xl font-semibold">맹다솔</h1>
            <p class="text-lg my-2">&</p>
            <h1 class="text-3xl font-semibold">지창대</h1>
        </div>
        <p class="text-gray-600 reveal">
            2025년 12월 21일 일요일 오후 3시<br>
            고려대학교 교우회관
        </p>
    </section>
    
    <!-- 메인 사진 -->
    <div class="w-full h-[70vh] overflow-hidden" oncontextmenu="return false;">
        <!-- 애니메이션 클래스 제거 -->
        <div class="w-full h-full bg-cover bg-center" style="background-image: url('https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(8).jpg?raw=true')"></div>
    </div>

    <!-- 초대글 -->
    <section class="text-center py-20 px-6 bg-white">
        <p class="text-2xl leading-relaxed reveal">
            함께 라는 이름으로<br>
            같은 곳을 바라보며<br>
            첫 걸음을 내딛습니다.
        </p>
        <div class="w-12 h-px bg-gray-200 mx-auto my-12 reveal"></div>
        <p class="leading-loose text-gray-600 reveal">
            서로 마주보며 다져온 사랑을<br>
            이제 함께 한 곳을 바라보며 걸어갈 수 있는<br>
            큰 사랑으로 키우고자 합니다.<br>
            저희 두 사람이 사랑의 이름으로 지켜나갈 수 있도록<br>
            앞날을 축복해 주시면 감사하겠습니다.
        </p>
        <div class="mt-12 text-lg text-gray-800 reveal">
            <div class="mb-4">
                <span class="font-semibold">지정익</span> · <span class="font-semibold">이경희</span> 의 아들 <span class="font-bold">지창대</span>
            </div>
            <div>
                <span class="font-semibold">맹도영</span> · <span class="font-semibold">한영숙</span> 의 딸 <span class="font-bold">맹다솔</span>
            </div>
        </div>
    </section>

    <!-- 달력 -->
    <section class="py-20 px-6 bg-gray-50">
        <div class="max-w-md mx-auto reveal">
            <h2 class="text-2xl font-semibold text-center mb-8 text-gray-800">Calendar</h2>
            <div class="text-center mb-8">
                <p class="text-3xl font-bold text-gray-800">2025. 12. 21. SUNDAY PM 3:00</p>
                <p id="d-day" class="text-lg text-gray-600 mt-2"></p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm">
                <p class="text-center font-bold text-xl mb-4">12<span class="text-base font-normal">월</span></p>
                <div class="calendar-grid text-sm">
                    <div class="calendar-day text-red-500">일</div>
                    <div class="calendar-day">월</div>
                    <div class="calendar-day">화</div>
                    <div class="calendar-day">수</div>
                    <div class="calendar-day">목</div>
                    <div class="calendar-day">금</div>
                    <div class="calendar-day">토</div>
                    <!-- 2025년 12월 달력 (1일은 월요일) -->
                    <div class="calendar-day"></div>
                    <div class="calendar-day"><span>1</span></div><div class="calendar-day"><span>2</span></div><div class="calendar-day"><span>3</span></div><div class="calendar-day"><span>4</span></div><div class="calendar-day"><span>5</span></div><div class="calendar-day"><span>6</span></div>
                    <div class="calendar-day text-red-500"><span>7</span></div><div class="calendar-day"><span>8</span></div><div class="calendar-day"><span>9</span></div><div class="calendar-day"><span>10</span></div><div class="calendar-day"><span>11</span></div><div class="calendar-day"><span>12</span></div><div class="calendar-day"><span>13</span></div>
                    <div class="calendar-day text-red-500"><span>14</span></div><div class="calendar-day"><span>15</span></div><div class="calendar-day"><span>16</span></div><div class="calendar-day"><span>17</span></div><div class="calendar-day"><span>18</span></div><div class="calendar-day"><span>19</span></div><div class="calendar-day"><span>20</span></div>
                    <div class="calendar-day wedding-day"><span>21</span></div><div class="calendar-day"><span>22</span></div><div class="calendar-day"><span>23</span></div><div class="calendar-day"><span>24</span></div><div class="calendar-day"><span>25</span></div><div class="calendar-day"><span>26</span></div><div class="calendar-day"><span>27</span></div>
                    <div class="calendar-day text-red-500"><span>28</span></div><div class="calendar-day"><span>29</span></div><div class="calendar-day"><span>30</span></div><div class="calendar-day"><span>31</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- 갤러리 -->
    <section class="py-20 px-6 bg-white">
        <div class="max-w-4xl mx-auto reveal">
            <h2 class="text-2xl font-semibold text-center mb-8 text-gray-800">Gallery</h2>
            <div id="gallery-grid" class="grid grid-cols-2 md:grid-cols-3 gap-2">
                <!-- 초기에 보여줄 사진 (1행) -->
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/images/mochung%20(2).jpg?raw=true" alt="웨딩 사진 1" class="w-full h-48 md:h-64 object-cover cursor-pointer" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/images/mochung%20(5).jpg?raw=true" alt="웨딩 사진 2" class="w-full h-48 md:h-64 object-cover cursor-pointer" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/images/mochung%20(3).jpg?raw=true" alt="웨딩 사진 3" class="w-full h-48 md:h-64 object-cover cursor-pointer" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/images/mochung%20(4).jpg?raw=true" alt="웨딩 사진 4" class="w-full h-48 md:h-64 object-cover cursor-pointer" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/images/mochung%20(6).jpg?raw=true" alt="웨딩 사진 5" class="w-full h-48 md:h-64 object-cover cursor-pointer" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/images/mochung%20(1).jpg?raw=true" alt="웨딩 사진 6" class="w-full h-48 md:h-64 object-cover cursor-pointer" oncontextmenu="return false;" draggable="false">
                <!-- 더보기 버튼으로 보여줄 사진들 (초기 숨김) -->
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(1).jpg?raw=true" alt="웨딩 사진 7" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(2).jpg?raw=true" alt="웨딩 사진 8" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(3).jpg?raw=true" alt="웨딩 사진 9" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(4).jpg?raw=true" alt="웨딩 사진 10" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(5).jpg?raw=true" alt="웨딩 사진 11" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(6).jpg?raw=true" alt="웨딩 사진 12" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(7).jpg?raw=true" alt="웨딩 사진 13" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(8).jpg?raw=true" alt="웨딩 사진 14" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(9).jpg?raw=true" alt="웨딩 사진 15" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(10).jpg?raw=true" alt="웨딩 사진 16" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(11).jpg?raw=true" alt="웨딩 사진 17" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
                <img src="https://github.com/sub3man/MOCHUNG/blob/main/tgcompressed/tg%20(12).jpg?raw=true" alt="웨딩 사진 18" class="w-full h-48 md:h-64 object-cover cursor-pointer hidden" oncontextmenu="return false;" draggable="false">
            </div>
            <!-- '더보기' 버튼 추가 -->
            <div class="text-center mt-8">
                <button id="show-more-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-full text-sm">사진 더보기</button>
            </div>
        </div>
    </section>

    <!-- 오시는 길 -->
    <section class="py-20 px-6 bg-gray-50">
        <div class="max-w-md mx-auto text-center reveal">
            <h2 class="text-2xl font-semibold mb-8 text-gray-800">Information</h2>
            <p class="text-xl font-semibold text-gray-800">고려대학교 교우회관</p>
            <p class="text-gray-600 mt-2">서울특별시 성북구 안암로 145</p>
            <div class="my-8 border border-gray-200 rounded-lg overflow-hidden" oncontextmenu="return false;">
                <!-- 지도 이미지에서 링크 태그 제거 -->
                <img class="w-full" src="http://t1.daumcdn.net/roughmap/imgmap/46794fdc530836464ef18fb6ce386bbdbd4ea3d55cf11b3ffb7528575e38a4f9" alt="고려대학교 교우회관 지도" draggable="false">
            </div>
            <div class="flex justify-center space-x-2">
                <a href="https://kko.kakao.com/XLiE25FJzx" target="_blank" class="w-full bg-yellow-400 text-gray-800 font-semibold py-3 rounded-md">카카오맵</a>
                <a href="https://naver.me/GV2th40D" target="_blank" class="w-full bg-green-500 text-white font-semibold py-3 rounded-md">네이버지도</a>
            </div>
        </div>
    </section>

    <!-- 마음 전하실 곳 -->
    <section class="py-20 px-6 bg-white">
        <div class="max-w-md mx-auto text-center reveal">
            <h2 class="text-2xl font-semibold mb-8 text-gray-800">Give Heart</h2>
            <p class="text-gray-600">축하해주시는 따뜻한 마음<br>소중히 간직하겠습니다.</p>
            <div class="mt-8 space-y-6 text-left">
                <!-- 신랑 측 계좌정보 -->
                <div>
                    <h3 class="font-semibold text-lg mb-3">신랑측 마음 전하실 곳</h3>
                    <div class="bg-gray-50 rounded-lg p-4 space-y-4">
                        <!-- 신랑 -->
                        <div class="flex justify-between items-center">
                            <p class="font-semibold">신랑 지창대</p>
                            <button onclick="toggleAccount('groom-account')" class="bg-gray-200 text-sm px-4 py-2 rounded-md flex-shrink-0">계좌번호 보기</button>
                        </div>
                        <div id="groom-account" class="hidden flex justify-between items-center space-x-2">
                            <p class="text-sm text-gray-600 flex-1">SC은행 496-20-038266</p>
                            <div class="flex space-x-2">
                                <a href="https://qr.kakaopay.com/Ej8FKK2Vs" class="bg-yellow-400 text-gray-800 text-sm font-bold py-2 px-4 rounded-md">
                                    <span>카카오페이</span>
                                </a>
                                <button onclick="copyToClipboard(this)" data-copy-text="SC은행 496-20-038266 지창대" class="bg-red-200 text-red-800 text-sm px-4 py-2 rounded-md">복사하기</button>
                            </div>
                        </div>
                        <!-- 신랑 아버지 -->
                        <div class="flex justify-between items-center">
                            <p class="font-semibold">신랑 아버지 지정익</p>
                            <button onclick="toggleAccount('groom-father-account')" class="bg-gray-200 text-sm px-4 py-2 rounded-md flex-shrink-0">계좌번호 보기</button>
                        </div>
                        <div id="groom-father-account" class="hidden flex justify-between items-center space-x-2">
                            <p class="text-sm text-gray-600 flex-1">[은행명 계좌번호]</p>
                            <button onclick="copyToClipboard(this)" data-copy-text="[은행명] [계좌번호] 지정익" class="bg-red-200 text-red-800 text-sm px-4 py-2 rounded-md flex-shrink-0">복사하기</button>
                        </div>
                        <!-- 신랑 어머니 -->
                        <div class="flex justify-between items-center">
                            <p class="font-semibold">신랑 어머니 이경희</p>
                            <button onclick="toggleAccount('groom-mother-account')" class="bg-gray-200 text-sm px-4 py-2 rounded-md flex-shrink-0">계좌번호 보기</button>
                        </div>
                        <div id="groom-mother-account" class="hidden flex justify-between items-center space-x-2">
                            <p class="text-sm text-gray-600 flex-1">[은행명 계좌번호]</p>
                            <button onclick="copyToClipboard(this)" data-copy-text="[은행명] [계좌번호] 이경희" class="bg-red-200 text-red-800 text-sm px-4 py-2 rounded-md flex-shrink-0">복사하기</button>
                        </div>
                    </div>
                </div>

                <!-- 신부 측 계좌정보 -->
                <div>
                    <h3 class="font-semibold text-lg mb-3">신부측 마음 전하실 곳</h3>
                    <div class="bg-gray-50 rounded-lg p-4 space-y-4">
                        <!-- 신부 -->
                        <div class="flex justify-between items-center">
                            <p class="font-semibold">신부 맹다솔</p>
                            <button onclick="toggleAccount('bride-account')" class="bg-gray-200 text-sm px-4 py-2 rounded-md flex-shrink-0">계좌번호 보기</button>
                        </div>
                        <div id="bride-account" class="hidden flex justify-between items-center space-x-2">
                            <p class="text-sm text-gray-600 flex-1">우리은행 174-099802-02-203</p>
                            <div class="flex space-x-2">
                                <a href="https://qr.kakaopay.com/FFPST8Snv" class="bg-yellow-400 text-gray-800 text-sm font-bold py-2 px-4 rounded-md">
                                    <span>카카오페이</span>
                                </a>
                                <button onclick="copyToClipboard(this)" data-copy-text="우리은행 174-099802-02-203 맹다솔" class="bg-red-200 text-red-800 text-sm px-4 py-2 rounded-md">복사하기</button>
                            </div>
                        </div>
                        <!-- 신부 아버지 -->
                        <div class="flex justify-between items-center">
                            <p class="font-semibold">신부 아버지 맹도영</p>
                            <button onclick="toggleAccount('bride-father-account')" class="bg-gray-200 text-sm px-4 py-2 rounded-md flex-shrink-0">계좌번호 보기</button>
                        </div>
                        <div id="bride-father-account" class="hidden flex justify-between items-center space-x-2">
                            <p class="text-sm text-gray-600 flex-1">[은행명 계좌번호]</p>
                            <button onclick="copyToClipboard(this)" data-copy-text="[은행명] [계좌번호] 맹도영" class="bg-red-200 text-red-800 text-sm px-4 py-2 rounded-md flex-shrink-0">복사하기</button>
                        </div>
                        <!-- 신부 어머니 -->
                        <div class="flex justify-between items-center">
                            <p class="font-semibold">신부 어머니 한영숙</p>
                            <button onclick="toggleAccount('bride-mother-account')" class="bg-gray-200 text-sm px-4 py-2 rounded-md flex-shrink-0">계좌번호 보기</button>
                        </div>
                        <div id="bride-mother-account" class="hidden flex justify-between items-center space-x-2">
                            <p class="text-sm text-gray-600 flex-1">[은행명 계좌번호]</p>
                            <button onclick="copyToClipboard(this)" data-copy-text="[은행명] [계좌번호] 한영숙" class="bg-red-200 text-red-800 text-sm px-4 py-2 rounded-md flex-shrink-0">복사하기</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 계좌번호 섹션 아래에 Tally 폼 추가 -->
            <div class="mt-12 w-full reveal">
                <iframe data-tally-src="https://tally.so/embed/wAgABN?hideTitle=1&transparentBackground=1&dynamicHeight=1" loading="lazy" width="100%" height="333" frameborder="0" marginheight="0" marginwidth="0" title="null"></iframe>
                <script>var d=document,w="https://tally.so/widgets/embed.js",v=function(){"undefined"!=typeof Tally?Tally.loadEmbeds():d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach((function(e){e.src=e.dataset.tallySrc}))};if("undefined"!=typeof Tally)v();else if(d.querySelector('script[src="'+w+'"]')==null){var s=d.createElement("script");s.src=w,s.onload=v,s.onerror=v,d.body.appendChild(s);}</script>
            </div>

        </div>
    </section>

    <!-- 마무리 -->
    <section class="text-center py-24 px-6 bg-gray-50">
        <p class="text-2xl reveal">감사합니다</p>
    </section>

    <!-- 갤러리 라이트박스 -->
    <div id="lightbox" class="lightbox" oncontextmenu="return false;">
        <span class="lightbox-close">&times;</span>
        <span class="lightbox-nav prev">&#10094;</span>
        <img id="lightbox-img" src="" alt="확대 이미지" draggable="false">
        <span class="lightbox-nav next">&#10095;</span>
    </div>
    
    <!-- 토스트 알림 (기존 모달 대체) -->
    <div id="toast-notification" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full text-center shadow-lg transition-all duration-300 opacity-0 pointer-events-none">
        복사되었습니다!
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- 스크롤 애니메이션 ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => {
                observer.observe(el);
            });

            // --- D-Day 계산 ---
            const weddingDay = new Date('2025-12-21T15:00:00');
            const today = new Date();
            today.setHours(0, 0, 0, 0); // 시간은 제외하고 날짜만 비교
            const diffTime = weddingDay.getTime() - today.getTime();
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const dDayEl = document.getElementById('d-day');
            if (dDayEl) {
                if (diffDays > 0) {
                    dDayEl.textContent = `맹다솔 ♥ 지창대의 결혼식이 ${diffDays}일 남았습니다.`;
                } else if (diffDays === 0) {
                    dDayEl.textContent = '맹다솔 ♥ 지창대의 결혼식, 바로 오늘입니다!';
                } else {
                    dDayEl.textContent = '맹다솔 ♥ 지창대의 결혼식이 행복하게 마무리되었습니다.';
                }
            }
            
            // --- 갤러리 라이트박스 ---
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const galleryImages = document.querySelectorAll('#gallery-grid img');
            let currentIndex = 0;
            let startX = 0;

            const showImage = (index) => {
                if (index >= 0 && index < galleryImages.length) {
                    lightboxImg.src = galleryImages[index].src;
                    currentIndex = index;
                    lightbox.style.display = 'flex';
                }
            };

            galleryImages.forEach((img, index) => {
                img.addEventListener('click', () => showImage(index));
            });
            
            document.querySelector('.lightbox-close').addEventListener('click', () => lightbox.style.display = 'none');
            document.querySelector('.lightbox-nav.prev').addEventListener('click', () => showImage(currentIndex - 1));
            document.querySelector('.lightbox-nav.next').addEventListener('click', () => showImage(currentIndex + 1));
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.style.display = 'none';
                }
            });

            // 스와이프 기능 추가
            lightbox.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });

            lightbox.addEventListener('touchend', (e) => {
                const endX = e.changedTouches[0].clientX;
                const swipeDistance = endX - startX;
                
                // 오른쪽으로 스와이프 (이전 사진)
                if (swipeDistance > 50) {
                    showImage(currentIndex - 1);
                }
                // 왼쪽으로 스와이프 (다음 사진)
                else if (swipeDistance < -50) {
                    showImage(currentIndex + 1);
                }
            });

            // --- 갤러리 더보기 기능 ---
            const hiddenImages = document.querySelectorAll('#gallery-grid img.hidden');
            const showMoreBtn = document.getElementById('show-more-btn');
            
            showMoreBtn.addEventListener('click', () => {
                // 숨겨진 모든 사진을 보여줍니다.
                hiddenImages.forEach(img => {
                    img.classList.remove('hidden');
                });
                // 더보기 버튼을 숨깁니다.
                showMoreBtn.style.display = 'none';
            });
        });

        // --- 계좌번호 토글 기능 ---
        function toggleAccount(accountId) {
            const accountDiv = document.getElementById(accountId);
            accountDiv.classList.toggle('hidden');
        }
        
        // --- 클립보드 복사 (토스트 알림 적용) ---
        const toast = document.getElementById('toast-notification');
        let toastTimer;

        function showToast(message) {
            if (toastTimer) clearTimeout(toastTimer);
            toast.textContent = message;
            toast.classList.remove('opacity-0');
            toastTimer = setTimeout(() => {
                toast.classList.add('opacity-0');
            }, 2000); // 2초 후 사라짐
        }

        function copyToClipboard(buttonElement) {
            const textToCopy = buttonElement.getAttribute('data-copy-text');
            if (!textToCopy || textToCopy.includes('[') || textToCopy.includes(']')) {
                showToast('계좌 정보가 입력되지 않았습니다.');
                return;
            }
            const textArea = document.createElement("textarea");
            textArea.value = textToCopy;
            textArea.style.position = "fixed";
            textArea.style.opacity = "0";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                document.execCommand('copy');
                showToast('계좌번호가 복사되었습니다.');
            } catch (err) {
                showToast('복사에 실패했습니다.');
            }
            document.body.removeChild(textArea);
        }
    </script>
</body>
</html>
